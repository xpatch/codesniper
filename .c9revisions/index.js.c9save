{"ts":1385100934233,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*\n\n    ECT fast template with coffee script\n    \n    Hogan.js - Twitter template engine.\n    \n    http://expressjs.com/api.html#app.engine    \n    \n    \n    \nhttp://coffeescript.org/\nhttp://ectjs.com/\nhttps://github.com/visionmedia/consolidate.js\n\nhttps://github.com/RandomEtc/ejs-locals\nhttps://github.com/visionmedia/ejs/tree/master/examples\n\n\nhttps://github.com/chovy/express-template-demo\n\nhttp://stackoverflow.com/questions/12209607/using-layout-view-in-express-with-consolidate-and-mustache\n\n\n*/\n\n\nvar express = require('express');\nvar cons = require('consolidate');\nvar inspect = require('util').inspect;\nvar request = require('request');\n\n\nvar couchdb = { ip: '172.17.0.3', port: '5984', url: 'http://172.17.0.3:5984' };\n\n\nfunction clog( data ) { console.log( inspect( data, { colors: true, depth: null, showHidden: true }) ); }\n\n\nvar app = express();\n\napp.engine('html', cons.ect);\napp.set('view engine', 'html');\napp.set('views', __dirname + '/views');\napp.use(express.bodyParser());\napp.use(express.static('static'));\n\n\napp.get('/', function (req,res) {\n    res.render('add', {title:'Teh Title'} );\n});\n\n/*\napp.get('/', function (req,res) {\n    res.render('add', {title:'Teh Title'} );\n});\n*/\n\n\n\napp.post('/add', function (req,res) {\n  \n  var json_data = { src: req.body.src, filename: req.body.filename };\n  request.post({ uri: couchdb.url+'/codesniper', json: json_data }, function (err,res,body) {  \n    clog(err);\n    clog(body);\n      \n  });\n  \n  res.send(201); \n  \n});\n\n\n\nif( process.env.PORT ) { \n  console.log(\"Listening on \"+process.env.PORT);\n  app.listen(process.env.PORT);\n} else {\n  console.log(\"Listening on 8900\");\n  app.listen(8900);\n}\n\n"]],"start1":0,"start2":0,"length1":0,"length2":1665}]],"length":1665}
{"contributors":[],"silentsave":false,"ts":1385113518116,"patch":[[{"diffs":[[0,"{ ip: '1"],[-1,"72.17.0.3"],[1,"0.0.1.16"],[0,"', port:"]],"start1":663,"start2":663,"length1":25,"length2":24},{"diffs":[[0,"://1"],[-1,"72.17.0.3"],[1,"0.0.1.16"],[0,":598"]],"start1":706,"start2":706,"length1":17,"length2":16}]],"length":1663,"saved":false}
{"ts":1385115199197,"patch":[[{"diffs":[[0,"});\n*/\n\n"],[1,"app.post('/search/:query', function (req,res) {\n  \n  request.post({ uri: couchdb.url+'/codesniper', json: json_data }, function (err,res,body) {  \n\n  });\n\n  res.send(200); \n  \n});"],[0,"\n\napp.po"]],"start1":1196,"start2":1196,"length1":16,"length2":195}]],"length":1842,"saved":false}
{"ts":1385115223349,"patch":[[{"diffs":[[0,"});\n*/\n\napp."],[-1,"pos"],[1,"ge"],[0,"t('/search/:"]],"start1":1196,"start2":1196,"length1":27,"length2":26}]],"length":1841,"saved":false}
{"contributors":[],"silentsave":false,"ts":1385328470930,"patch":[[{"diffs":[[0,"});\n*/\n\napp."],[-1,"ge"],[1,"pos"],[0,"t('/search/:"]],"start1":1196,"start2":1196,"length1":26,"length2":27}]],"length":1842,"saved":false}
{"ts":1385328760968,"patch":[[{"diffs":[[0,",body) {"],[-1,"  "],[0,"\n\n  });\n"]],"start1":1340,"start2":1340,"length1":18,"length2":16}]],"length":1840,"saved":false}
{"ts":1385328768115,"patch":[[{"diffs":[[0,",body) {"],[1,"\n    "],[0,"\n\n  });\n"]],"start1":1340,"start2":1340,"length1":16,"length2":21}]],"length":1845,"saved":false}
{"ts":1385328885371,"patch":[[{"diffs":[[0,"res,body) {\n"],[1,"    console.log(body);\n"],[0,"    \n\n  });\n"]],"start1":1337,"start2":1337,"length1":24,"length2":47}]],"length":1868,"saved":false}
{"ts":1385328950114,"patch":[[{"diffs":[[0,"esniper'"],[-1,", json: json_data"],[0," }, func"]],"start1":1294,"start2":1294,"length1":33,"length2":16}]],"length":1851,"saved":false}
{"ts":1385338077512,"patch":[[{"diffs":[[0,"esniper'"],[1,", json: {}"],[0," }, func"]],"start1":1294,"start2":1294,"length1":16,"length2":26}]],"length":1861,"saved":false}
{"ts":1385338589349,"patch":[[{"diffs":[[0,"url+'/codesniper"],[1,"?include_docs=true"],[0,"', json: {} }, f"]],"start1":1285,"start2":1285,"length1":32,"length2":50}]],"length":1879,"saved":false}
{"ts":1385339419867,"patch":[[{"diffs":[[0,"   \n"],[-1,"\n"],[0,"  "],[-1,"});\n\n"],[0,"  re"]],"start1":1384,"start2":1384,"length1":16,"length2":10},{"diffs":[[0,"send(200); \n"],[1,"\n  });\n\n"],[0,"  \n});\n\napp."]],"start1":1396,"start2":1396,"length1":24,"length2":32}]],"length":1881,"saved":false}
{"ts":1385339604506,"patch":[[{"diffs":[[0,", function ("],[-1,"err,res,"],[1,"post_err,post_res,post_"],[0,"body) {\n    "]],"start1":1332,"start2":1332,"length1":32,"length2":47},{"diffs":[[0,"console.log("],[1,"post_"],[0,"body);\n    \n"]],"start1":1379,"start2":1379,"length1":24,"length2":29}]],"length":1901,"saved":false}
{"ts":1385339691308,"patch":[[{"diffs":[[0,"\n  request.post("],[-1,"{"],[1,"\n    { \n     "],[0," uri: couchdb.ur"]],"start1":1254,"start2":1254,"length1":33,"length2":45},{"diffs":[[0,"=true', "],[1,"\n      "],[0,"json: {}"]],"start1":1326,"start2":1326,"length1":16,"length2":23},{"diffs":[[0,"son: {} "],[-1,"},"],[1,"\n    }, \n   "],[0," functio"]],"start1":1342,"start2":1342,"length1":18,"length2":28},{"diffs":[[0,") {\n    "],[1," "],[1," "],[0,"console."]],"start1":1400,"start2":1400,"length1":16,"length2":18},{"diffs":[[0,"y);\n    "],[-1,"\n  "],[0,"  res.se"]],"start1":1430,"start2":1430,"length1":19,"length2":16},{"diffs":[[0,"(200); \n"],[-1,"\n"],[1,"  "],[0,"  }"],[1,"\n  "],[0,");\n\n  \n}"]],"start1":1448,"start2":1448,"length1":20,"length2":24}]],"length":1933,"saved":false}
{"contributors":[],"silentsave":false,"ts":1386072395788,"patch":[[{"diffs":[[0,"le.log( "],[1,"require('util')."],[0,"inspect("]],"start1":759,"start2":759,"length1":16,"length2":32},{"diffs":[[0,"ten(8900"],[1,",'0.0.0.0'"],[0,");\n}\n\n"]],"start1":1935,"start2":1935,"length1":14,"length2":24}]],"length":1959,"saved":false}
